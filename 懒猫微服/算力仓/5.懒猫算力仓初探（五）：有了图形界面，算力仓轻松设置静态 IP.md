---
title: 懒猫算力仓初探（五）：有了图形界面，算力仓轻松设置静态 IP
tags: NAS
toc: true
categories: 懒猫微服
abbrlink: 2f8bfee6
date: 2025-09-26 00:00:00
---

懒猫 AI 算力仓是一台功能完整的边缘算力设备，基于 **Ubuntu 22.04 桌面系统**，既能运行 Docker、容器编排，又能承担 AI 推理任务。与懒猫微服不同的是，算力仓自带完整的 **图形界面（GUI）**，这让我们可以更直观地配置网络，比如今天要讲的——静态 IP。

本篇文章将详细讲解如何在算力仓桌面环境中，通过**图形化方式（GUI）**配置静态 IP 地址，并对比命令行 `nmtui` 的方法，让你的算力仓网络配置更稳、更容易管理。

### 为什么要设置静态 IP？

算力仓不像懒猫微服那样自带域名访问功能。
如果我们希望通过 SSH、VSCode 或 API 服务长期远程访问它，就必须让它的 IP 地址保持不变。否则，一旦 DHCP 动态分配的地址发生变化（比如重启路由器后），所有外部访问都会中断。

<!-- more -->

因此，**静态 IP 是算力仓稳定访问的关键配置之一。**

### 认识算力仓的图形界面

在「关于本机」中可以看到，算力仓运行的是 **Ubuntu 22.04 LTS 桌面版**。这意味着我们无需编辑配置文件或敲命令，而是可以直接通过系统设置进行网络管理。

右上角的系统托盘里有一个网络图标（有线网络是双箭头，Wi-Fi 是扇形波纹），这就是进入网络设置的入口。

![a7295d8746fe4fd6e09d869e54527300](https://raw.githubusercontent.com/cloudsmithy/picgo-imh/master/a7295d8746fe4fd6e09d869e54527300-20251005124934623.png)

在 Ubuntu 桌面下，图形界面的背后其实就是 **NetworkManager** 服务，也就是我们在服务器端使用 `nmtui` 或 `nmcli` 命令操作的同一个核心组件。

### 通过图形界面配置静态 IP（推荐方法）

下面我们一步步完成整个配置流程，从打开设置到验证网络。

#### 打开网络设置

点击右上角网络图标 → 选择「设置」或「Network」。
也可以在左下角应用菜单中搜索「Settings」，在左侧栏中选择「网络（Network）」。

![0776627b6fcb975c41cfe8942acd5163](https://raw.githubusercontent.com/cloudsmithy/picgo-imh/master/0776627b6fcb975c41cfe8942acd5163-20251005124934790.png)

进入后，你会看到两种网络接口：

- **Wired（有线网络）**
- **Wi-Fi（无线网络）**

如果算力仓通过网线连接局域网，就选择有线网络进行配置。

#### 选择要修改的网络接口

在「有线网络」一栏中，找到当前正在使用的接口（如 _Wired connection 1_），点击右侧的齿轮 ⚙️ 图标。

这个配置界面对应的是 NetworkManager 的“连接配置文件”。
每一个物理接口都有自己的配置文件，保存 IP、DNS、网关等信息。

#### 切换为“手动（Manual）”模式

切换到 **IPv4** 标签页，可以看到「方法（Method）」下拉菜单：

- Automatic (DHCP)
- Manual
- Link-Local Only

默认是「自动（DHCP）」，我们需要改为「手动（Manual）」。

修改后，会出现以下字段：

| 字段                | 示例值                   | 说明                                 |
| ------------------- | ------------------------ | ------------------------------------ |
| 地址（Address）     | `192.168.1.100`          | 设备的固定 IP                        |
| 子网掩码（Netmask） | `255.255.255.0` 或 `/24` | 家用路由器一般为 `/24`               |
| 网关（Gateway）     | `192.168.1.1`            | 通常是路由器的地址                   |
| DNS                 | `8.8.8.8, 1.1.1.1`       | 推荐填写 Google 与 Cloudflare 的 DNS |

**注意：**
IP 地址必须是未被占用的。可以先用命令测试：

```bash
ping 192.168.1.100
```

若返回 “Destination Host Unreachable”，说明该 IP 可用。

#### 保存并验证

填写完成后，点击右下角的「Apply」或「Save」。

接着关闭再开启一次该网络接口，让配置立即生效。
（很多人忘记这步，导致 IP 没有更新。）

打开终端（Ctrl + Alt + T），输入：

```bash
ifconfig
```

确认你的新 IP 已生效后，测试外网连通性：

```bash
ping 8.8.8.8
```

若返回类似：

```
64 bytes from 8.8.8.8: icmp_seq=1 ttl=117 time=30.5 ms
```

说明静态 IP 设置成功。

#### 配合懒猫微服实现远程访问

静态 IP 设置完成后，你就可以在懒猫微服上用端口转发工具，将算力仓的 SSH 服务暴露到微服域名下。

例如，通过微服域名的某个端口就能直接 SSH 登录算力仓，实现两端联动：

![image-20251005123932578](https://raw.githubusercontent.com/cloudsmithy/picgo-imh/master/image-20251005123932578.png)

### 与命令行方式的对比

之前我们在懒猫微服上使用过 `nmtui` 命令配置静态 IP。
其实两种方法底层一致，都是操作 **NetworkManager**。

| 对比项     | 图形界面设置         | `nmtui` 命令行设置 |
| ---------- | -------------------- | ------------------ |
| 适合用户   | 新手、喜欢可视化操作 | 熟悉终端的高级用户 |
| 可视化程度 | 界面直观             | 字符交互           |
| 误操作风险 | 低                   | 较高               |
| 生效方式   | 即时生效             | 需手动保存         |
| 使用场景   | 桌面系统（算力仓）   | 无图形环境（微服） |

一句话总结：

> 算力仓有桌面，用图形界面；
> 微服是服务器，用命令行。

两者都基于同一个 NetworkManager，稳定、可靠又高效。

### 总结

通过图形界面设置静态 IP 的优点：

- 操作直观，无需命令；
- 自动生成配置文件，减少出错；
- 保存后立即生效；
- 可随时切换回 DHCP，灵活方便。

**推荐实践：**

- **懒猫微服（无界面）** → 用命令行 `nmtui`
- **懒猫算力仓（有界面）** → 用图形界面「设置」

> 懒猫微服靠命令行，算力仓靠图形界面。
> 底层同源，体验不同，效果一样稳。
