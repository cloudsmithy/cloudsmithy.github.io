---
title: 给群晖安装Iperf3，一键局域网测速
tags: 家庭网络
toc: true
categories: 群晖
date: 2025-07-02 00:00:00
---

群晖默认不带 iperf3，所以需要套件来安装：

套件中心搜索 SynoCli，然后安装 SynoCli Monitor Tools ，里面有常见的监控工具。

![image-20250615183217020](https://raw.githubusercontent.com/cloudsmithy/picgo-imh/master/image-20250615183217020.png)

然后在群晖上启动服务端：

```
name@qun:~$ iperf3 -s
-----------------------------------------------------------
Server listening on 5201 (test #1)
-----------------------------------------------------------

```

在 Mac 上测速，iperf3 -c 和

![image-20250615184708521](https://raw.githubusercontent.com/cloudsmithy/picgo-imh/master/image-20250615184708521.png)

这两个命令的差别关键在于 **数据传输方向**，也就是谁是“发”谁是“收”。

---

### ✅ `iperf3 -c <server_ip>`

- **含义**：客户端主动发数据，服务器接收。
- **方向**：📤 客户端 → 服务器（上传测试）
- **谁发数据？**：客户端
- **谁测带宽？**：客户端测发送速度，服务器测接收速度。

🧪 示例：

```bash
iperf3 -c 192.168.5.171
```

表示测试**从你这台机器上传数据到服务器的带宽**。

---

### ✅ `iperf3 -c <server_ip> -R`

- **含义**：反向测试，客户端建立连接后，让服务器发数据。
- **方向**：📥 服务器 → 客户端（下载测试）
- **谁发数据？**：服务器
- **谁测带宽？**：客户端测接收速度，服务器测发送速度。

🧪 示例：

```bash
iperf3 -c 192.168.5.171 -R
```

表示测试**从服务器下载数据到你的机器的带宽**。

---

### 🔁 表格对比总结：

| 命令           | 数据方向        | 谁发送 | 谁接收 | 测的是什么带宽 |
| -------------- | --------------- | ------ | ------ | -------------- |
| `iperf3 -c`    | 客户端 → 服务器 | 客户端 | 服务器 | **上传带宽**   |
| `iperf3 -c -R` | 服务器 → 客户端 | 服务器 | 客户端 | **下载带宽**   |

---

### 🎯 提示：

- 二者都只能测试**一个方向**，不会自动“双向”测试。
- 如果你想做双向测试，请手动运行这两个命令各一次。
