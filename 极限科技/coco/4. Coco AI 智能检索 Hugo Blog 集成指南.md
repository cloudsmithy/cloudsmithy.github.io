---
title: Coco AI æ™ºèƒ½æ£€ç´¢ Hugo Blog é›†æˆæŒ‡å—
tags: Coco-AI
toc: true
categories: æé™ç§‘æŠ€
date: 2025-07-02 00:00:00
---

åœ¨æ­¤å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ **Coco Server** è¿æ¥ **Notion**ï¼Œå®ç°æ™ºèƒ½å†…å®¹æ£€ç´¢ã€‚æœ¬æ¬¡ï¼Œæˆ‘ä»¬å°†è¿›ä¸€æ­¥æ¢ç´¢å¦‚ä½•åœ¨ **Coco Server æœ€æ–°ç‰ˆæœ¬** ä¸­é›†æˆ **Hugo Site**ï¼Œä»¥ä¾¿å¯¹ **Hugo ç«™ç‚¹** è¿›è¡Œé«˜æ•ˆæ£€ç´¢ã€‚

---

## Coco Server éƒ¨ç½²æ–¹å¼

è¦åœ¨æœ¬åœ°æˆ–æœåŠ¡å™¨ä¸Šè¿è¡Œ **Coco Server**ï¼Œå¯ä»¥å€ŸåŠ© **Docker** è¿›è¡Œå¿«é€Ÿéƒ¨ç½²ã€‚

### 1. ç›´æ¥è¿è¡Œ Coco Serverï¼ˆé»˜è®¤é…ç½®ï¼‰

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¿«é€Ÿå¯åŠ¨ **Coco Server**ï¼ˆç‰ˆæœ¬ `0.2.2-2000`ï¼‰ï¼š

```sh
docker run -d --name cocoserver -p 9000:9000 infinilabs/coco:0.2.2-2000
```

æ­¤å‘½ä»¤å°†åœ¨åå°è¿è¡Œ **Coco Server**ï¼Œå¹¶å°† **9000 ç«¯å£** æ˜ å°„åˆ°æœ¬æœºï¼Œä»¥ä¾¿é€šè¿‡ Web UI è¿›è¡Œè®¿é—®ã€‚

---

### 2. å¯ç”¨æ•°æ®æŒä¹…åŒ–ï¼ˆæ¨èï¼‰

å¦‚æœå¸Œæœ›æ•°æ®åœ¨å®¹å™¨é‡å¯æˆ–åˆ é™¤åä»ç„¶ä¿ç•™ï¼Œå»ºè®®å¯ç”¨ **æ•°æ®æŒä¹…åŒ–**ï¼Œæ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š

#### ï¼ˆ1ï¼‰åˆ›å»ºæ•°æ®ç›®å½•å¹¶è®¾ç½®æƒé™

```sh
mkdir -p $(pwd)/cocoserver/{data,logs}
sudo chown -R 602:602 $(pwd)/cocoserver
```

#### ï¼ˆ2ï¼‰å¯åŠ¨ Coco Server å¹¶æŒ‚è½½æ•°æ®ç›®å½•

```sh
docker run -d \
           --name cocoserver \
           --hostname coco-server \
           --restart unless-stopped \
           -m 4g \
           --cpus="2" \
           -p 9000:9000 \
           -v $(pwd)/cocoserver/data:/app/easysearch/data \
           -v $(pwd)/cocoserver/logs:/app/easysearch/logs \
           -e EASYSEARCH_INITIAL_ADMIN_PASSWORD=coco-server \
           -e ES_JAVA_OPTS="-Xms2g -Xmx2g" \
           infinilabs/coco:0.2.2-2000
```

è¿™æ ·ï¼Œæ‰€æœ‰ **æ£€ç´¢æ•°æ®** å’Œ **æ—¥å¿—ä¿¡æ¯** éƒ½ä¼šå­˜å‚¨åœ¨ `./cocoserver/data` å’Œ `./cocoserver/logs` ç›®å½•ä¸‹ï¼Œå³ä½¿å®¹å™¨é‡å¯ï¼Œæ•°æ®ä»ç„¶å¯ç”¨ã€‚

---

### 3. ä½¿ç”¨ Docker Compose éƒ¨ç½²

å¦‚æœä½ å¸Œæœ›ä½¿ç”¨ `docker-compose` è¿›è¡Œæ›´ä¾¿æ·çš„ç®¡ç†ï¼Œå¯ä»¥é‡‡ç”¨ä»¥ä¸‹ `docker-compose.yml` æ–‡ä»¶ï¼š

```yaml
version: "3.8"

services:
  cocoserver:
    image: infinilabs/coco:0.2.2-2000
    container_name: cocoserver
    hostname: coco-server
    restart: unless-stopped
    ports:
      - "9000:9000"
    deploy:
      resources:
        limits:
          memory: 4g
          cpus: "2"
    volumes:
      - ./cocoserver/data:/app/easysearch/data
      - ./cocoserver/logs:/app/easysearch/logs
    environment:
      EASYSEARCH_INITIAL_ADMIN_PASSWORD: "coco-server"
      ES_JAVA_OPTS: "-Xms2g -Xmx2g"

volumes:
  data:
  logs:
```

è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ **Coco Server**ï¼š

```sh
docker-compose up -d
```

å¦‚éœ€åœæ­¢å¹¶åˆ é™¤å®¹å™¨ï¼Œå¯æ‰§è¡Œï¼š

```sh
docker-compose down
```

å¦‚æœéœ€è¦åŒæ—¶åˆ é™¤å­˜å‚¨æ•°æ®ï¼Œåˆ™æ‰§è¡Œï¼š

```sh
docker-compose down -v
```

---

## Hugo ç«™ç‚¹æ™ºèƒ½æ£€ç´¢

æˆåŠŸéƒ¨ç½² **Coco Server** åï¼Œå³å¯å°† **Hugo ç«™ç‚¹** ä½œä¸ºæ•°æ®æºè¿›è¡Œæ™ºèƒ½æ£€ç´¢ã€‚

### 1. æ·»åŠ  Hugo Site æ•°æ®æº

åœ¨ **Coco Server Web UI** ä¸­ï¼Œè¿›å…¥ **â€œæ•°æ®æºâ€** é¡µé¢ï¼Œå¹¶ç‚¹å‡» **â€œæ·»åŠ  Hugo Siteâ€**ã€‚

![æ·»åŠ  Hugo ç«™ç‚¹æ•°æ®æº](https://i-blog.csdnimg.cn/img_convert/82c67e8c341169346e06cda4e94552ca.png)

---

### 2. è®¾å®š Hugo ç«™ç‚¹ URL

ä»¥ **Pizza å®˜ç½‘** ä¸ºç¤ºä¾‹ï¼Œåœ¨è¾“å…¥æ¡†ä¸­å¡«å…¥ç›¸åº”çš„ **URL** å¹¶ä¿å­˜ã€‚

![è¾“å…¥ Hugo ç«™ç‚¹ URL](https://i-blog.csdnimg.cn/img_convert/e5bb20df263a54a350929196f299b5cb.png)

é…ç½®å®Œæˆåï¼Œ**Coco Server** ä¼šè‡ªåŠ¨æŠ“å– Hugo ç«™ç‚¹çš„å†…å®¹å¹¶è¿›è¡Œç´¢å¼•ã€‚

![æˆåŠŸç´¢å¼• Hugo ç«™ç‚¹å†…å®¹](https://i-blog.csdnimg.cn/img_convert/c78da60d0e32b97ba58270d95950f2e3.png)

---

## æ„å»ºè‡ªå·±çš„ Hugo ç«™ç‚¹ï¼Œå¹¶è®© Coco è¿›è¡Œæ£€ç´¢

å®Œæˆ Pizza å®˜ç½‘çš„ Hugo ç«™ç‚¹æ£€ç´¢æµ‹è¯•åï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»º **è‡ªå·±çš„ Hugo ç«™ç‚¹**ï¼Œå¹¶è®© **Coco Server** è¿›è¡Œæ™ºèƒ½ç´¢å¼•ã€‚

### 1. å®‰è£… Hugo

#### Mac

```sh
brew install hugo
```

#### Windows

```sh
scoop install hugo-extended
```

#### Linux

```sh
sudo apt install hugo
```

å®‰è£…å®Œæˆåï¼Œå¯è¿è¡Œ `hugo version` ç¡®è®¤æ˜¯å¦å®‰è£…æˆåŠŸã€‚

---

### 2. åˆ›å»º Hugo ç«™ç‚¹

```sh
hugo new site my-hugo-site
cd my-hugo-site
git init
git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke
```

---

### 3. é…ç½® Hugo ä»¥ç”Ÿæˆ JSON æ•°æ®

åœ¨ `hugo.toml` æ–‡ä»¶ä¸­ï¼Œæ·»åŠ  **JSON è¾“å‡º** é…ç½®ï¼š

```toml
baseURL = "https://example.com/"
languageCode = "en-us"
title = "My Hugo Site"
theme = "ananke"

[outputs]
  home = ["HTML", "JSON"]
  section = ["HTML", "JSON"]
  taxonomy = ["HTML", "JSON"]
  term = ["HTML", "JSON"]

```

---

### 4. åˆ›å»º JSON æ¨¡æ¿

åœ¨ `layouts/_default/list.json` æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```json
[
    {{- range $index, $element := .Site.RegularPages -}}
    {{- if gt $index 0 }},{{ end }}
    {
        "category": {{ $element.Params.category | jsonify }},
        "content": {{ $element.Content | plainify | jsonify }},
        "created": {{ $element.Date | time.Format "2006-01-02T15:04:05Z07:00" | jsonify }},
        "lang": {{ $element.Lang | default "en" | jsonify }},
        "subcategory": {{ $element.Params.subcategory | jsonify }},
        "summary": {{ $element.Params.summary | jsonify }},
        "tags": {{ $element.Params.tags | jsonify }},
        "title": {{ $element.Title | jsonify }},
        "updated": {{ $element.Lastmod | time.Format "2006-01-02T15:04:05Z07:00" | jsonify }},
        "url": {{ $element.RelPermalink | jsonify }}
    }
    {{- end -}}
]
```

---

### 5. è¿è¡Œ Hugo å¹¶ç”Ÿæˆ JSON

```sh
hugo server -D
```

ç„¶ååœ¨æµè§ˆå™¨è®¿é—®ï¼š

```
http://localhost:1313/index.json
```

ä½ å°†çœ‹åˆ° Hugo ç«™ç‚¹ç”Ÿæˆçš„ JSON æ•°æ®ï¼Œä¾‹å¦‚ï¼š

```json
[
  {
    "title": "My First Post",
    "content": "This is a test post...",
    "url": "/posts/my-first-post/"
  }
]
```

![image-20250318120453955](https://i-blog.csdnimg.cn/img_convert/3f91d9420f0c9c8ce2395a47cfb89601.png)

---

## 6. è®© Coco Server ç´¢å¼• Hugo JSON API

åœ¨ **Coco Server æ•°æ®æºç®¡ç†** ä¸­ï¼Œè¾“å…¥ Hugo ç«™ç‚¹ JSON API åœ°å€ï¼Œä¾‹å¦‚ï¼š

```
http://host.docker.internal:1313/index.json
```

![é…ç½® Hugo JSON API](https://i-blog.csdnimg.cn/img_convert/ba0620305587b2c87ae3fd1dce769345.png)

å¦‚æœ **Coco Server** è¿è¡Œåœ¨ **Docker** å†…ï¼Œè€Œ **Hugo ç«™ç‚¹** è¿è¡Œåœ¨æœ¬æœºï¼Œåˆ™ `localhost` è®¿é—®å¯èƒ½ä¼šå¤±æ•ˆï¼Œæ­¤æ—¶åº”ä½¿ç”¨ `host.docker.internal` è®¿é—®å®¿ä¸»æœºã€‚

![Docker è®¿é—® Hugo JSON](https://i-blog.csdnimg.cn/img_convert/3a9e17be2e3ae3dc612ebd64dfbf482e.png)

æ·»åŠ æˆåŠŸåï¼Œ**Coco Server** ä¼šè‡ªåŠ¨æŠ“å–å¹¶è§£æ Hugo ç«™ç‚¹æ•°æ®ï¼Œå®ç°æ™ºèƒ½æ£€ç´¢ã€‚

![Hugo ç«™ç‚¹æ™ºèƒ½æ£€ç´¢](https://i-blog.csdnimg.cn/img_convert/25b7660a162395c7079cfdce04d7e57c.png)

---

## æ€»ç»“

é€šè¿‡æœ¬æŒ‡å—ï¼Œæˆ‘ä»¬å·²æˆåŠŸå®Œæˆï¼š

âœ… éƒ¨ç½² **Coco Server**ï¼ˆæ”¯æŒ Docker / Docker Composeï¼‰  
âœ… æ·»åŠ  **Hugo Site** ä½œä¸ºæ•°æ®æº  
âœ… é…ç½® Hugo ç«™ç‚¹ï¼Œç”Ÿæˆ JSON API  
âœ… è®© **Coco Server** ç´¢å¼• Hugo ç«™ç‚¹ï¼Œå®ç°æ™ºèƒ½æ£€ç´¢

ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ **Coco AI** é«˜æ•ˆæ£€ç´¢ Hugo ç«™ç‚¹å†…å®¹ï¼Œå¤§å¹…æå‡ä¿¡æ¯æŸ¥æ‰¾æ•ˆç‡ï¼ğŸš€
