---
title: Coco-AI 接入自定义数据源
tags: Coco-AI
toc: true
categories: 极限科技
date: 2025-04-17 00:00:00
---

之前使用 Hugo Connector 接入和 hexo 和任意 Markdown。现在，官方已经开放了对任意数据源的原生支持，关键在于引入了一个用于接收文档数据的 API 接口：

![image-20250417194847718](https://i-blog.csdnimg.cn/img_convert/8c5c1008a3035490270a10b8e035f6f8.png)

---

<!-- more -->

## 一、创建自定义 Connector

进入后台页面，依次点击：

**设置 > Connector > 新建**，输入数据源名称、描述等基本信息，完成创建。

![image-20250417194910829](https://i-blog.csdnimg.cn/img_convert/47f432bc3ecf1fcbae26eb2e0e1f2180.png)

创建成功后，即可在数据源管理页看到你新建的 Customize Connector：

![image-20250417195015291](https://i-blog.csdnimg.cn/img_convert/73125d4c3762866e1e09faccfa1e1030.png)

---

## 二、查看并使用文档上传 API

点击刚才创建的数据源，会出现官方提供的文档上传接口说明：

![image-20250417194847718](https://i-blog.csdnimg.cn/img_convert/e23bc756cc4e269b27eaac8d6638f6d0.png)

此 API 接收 `POST` 请求，用于将文档内容推送至 Coco-AI。

---

## 三、创建 Token（用于请求认证）

前往设置页面，创建一个用于访问 API 的 Token：

![image-20250417195602722](https://i-blog.csdnimg.cn/img_convert/625552130862f841b29a8cad93a2c165.png)

---

## 四、使用 Postman 测试接口

可以通过 Postman 来测试该接口的使用方法。

![](https://i-blog.csdnimg.cn/img_convert/b03dd80ccd64450e624349bfc4e3e7e9.png)

注意，如果请求中**未携带 Token**，将无法成功访问：

![image-20250417195729078](https://i-blog.csdnimg.cn/img_convert/c42fe270e8ae9f9a94db41db9d57d1b0.png)

---

## 五、代码示例：以 Python 调用该接口

你也可以直接通过 Python 脚本推送文档内容：

```python
import requests
import json

url = "http://localhost:9000/datasource/d00eeolvf2xxx/_doc"

payload = json.dumps({
  "title": "I am just a Coco doc that you can search",
  "summary": "Nothing but great start",
  "content": "Coco is a unified private search engine that you can trust.",
  "url": "http://coco.rs/",
  "icon": "default"
})

headers = {
  'Content-Type': 'application/json'
}

response = requests.post(url, headers=headers, data=payload)

print(response.text)
```

你也可以基于此 API 开发自己的 Agent，实现从数据库、日志系统或其他第三方服务的自动同步。

## 总结

通过官方开放的自定义 Connector 和 API，Coco-AI 现在可以灵活接入任意数据源，构建专属的私有知识库体系。这为团队内部搜索、知识管理和文档问答提供了更强大的可扩展性。
