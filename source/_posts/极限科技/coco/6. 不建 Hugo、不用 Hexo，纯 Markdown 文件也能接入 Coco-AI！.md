---
title: ä¸å»º Hugoã€ä¸ç”¨ Hexoï¼Œçº¯ Markdown æ–‡ä»¶ä¹Ÿèƒ½æ¥å…¥ Coco-AIï¼
tags: Coco-AI
toc: true
categories: æé™ç§‘æŠ€
date: 2025-03-28 00:00:00
---

ä¹‹å‰æˆ‘ä»¬ä»‹ç»è¿‡å¦‚ä½•é€šè¿‡ Coco-AI æ£€ç´¢ Hugo å’Œ Hexo çš„æ–‡ä»¶ç»“æ„ã€‚è¿™ç§æ–¹å¼è™½ç„¶é€‚åˆåšå®¢ç±»å†…å®¹ï¼Œä½†å¯¹äºä¸€äº›**é›¶ç¢çš„ç¬”è®°**æˆ–è€…å¹¶éå»ºç«™ç±»çš„ Markdown æ–‡ä»¶ï¼Œæ˜¾ç„¶ä¸å¤Ÿçµæ´»ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å†™äº†ä¸€ä¸ªé€‚é…å™¨ï¼ˆconnectorï¼‰ï¼Œå¹¶å‘å¸ƒäº†å¯¹åº”çš„ Docker é•œåƒï¼Œæ¥å®ç°**ä»»æ„ Markdown æ–‡ä»¶ç›®å½•çš„å…ƒæ•°æ®æ•´ç†ä¸ API æš´éœ²**ï¼š

<!-- more -->

ğŸ‘‰ é•œåƒåœ°å€ï¼š[https://hub.docker.com/r/cloudsmithy/flask-markdown-connector](https://hub.docker.com/r/cloudsmithy/flask-markdown-connector)

---

## æ ¸å¿ƒåŸç†

è¯¥ connector çš„ä¸»è¦é€»è¾‘æ˜¯ï¼š

1. **é€’å½’æ‰«æç›®å½•åŠå­ç›®å½•ä¸‹çš„ Markdown æ–‡ä»¶**ï¼›
2. **è¯†åˆ«æˆ–è¡¥å……å…ƒæ•°æ®**ï¼ˆå³ YAML Front Matterï¼‰ï¼›
3. **é€šè¿‡ RESTful API æš´éœ²è¿™äº› Markdown çš„ç»“æ„ä¿¡æ¯å’Œå…ƒæ•°æ®å†…å®¹**ã€‚

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬ä¼šåœ¨æ¯ä¸ª Markdown æ–‡ä»¶å¼€å¤´æ·»åŠ æˆ–æå–å‡º YAML å…ƒæ•°æ®ï¼š

![å…ƒæ•°æ®å±•ç¤º](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250328105358641.png)

---

## ä¸€é”®éƒ¨ç½²

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å³å¯å¿«é€Ÿæ‹‰èµ·æœåŠ¡ï¼š

```bash
docker run -d --name markdown-connector \
  -p 1313:5000 \
  -v "$(pwd):/app/markdown" \
  --restart always \
  cloudsmithy/flask-markdown-connector
```

### å‚æ•°è¯´æ˜ï¼š

- `-d`ï¼šåå°è¿è¡Œå®¹å™¨ï¼›
- `--name markdown-connector`ï¼šæŒ‡å®šå®¹å™¨åç§°ï¼›
- `-p 1313:5000`ï¼šå°†å®¿ä¸»æœºçš„ 1313 ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ 5000 ç«¯å£ï¼›
- `-v "$(pwd):/app/markdown"`ï¼šå°†å½“å‰ç›®å½•æŒ‚è½½è¿›å®¹å™¨ï¼›
- `--restart always`ï¼šé…ç½®å®¹å™¨å¼‚å¸¸é€€å‡ºåè‡ªåŠ¨é‡å¯ï¼›
- `cloudsmithy/flask-markdown-connector`ï¼šé•œåƒåç§°ã€‚

---

## API ä¸€è§ˆ

é€šè¿‡æµè§ˆå™¨è®¿é—® `http://localhost:1313/apidocs` å³å¯æ‰“å¼€å†…ç½® Swagger æ–‡æ¡£ã€‚æ–¹ä¾¿ä¸Šå±‚ç³»ç»Ÿï¼ˆå¦‚ Coco-AIï¼‰è®¿é—® Markdown æ–‡ä»¶çš„å…ƒæ•°æ®ä¸å†…å®¹ã€‚æ¥å£ç»“æ„ç®€æ´ç›´è§‚ï¼Œæ”¯æŒè·å–ç´¢å¼•ã€åˆ·æ–°ç¼“å­˜ã€è¯»å–å†…å®¹ç­‰åŠŸèƒ½ã€‚

![Swagger æ–‡æ¡£](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250328114039208.png)

### ğŸ”¹ `GET /`

**åŠŸèƒ½**ï¼šè¿”å›æœåŠ¡å¯åŠ¨æç¤ºä¿¡æ¯  
**è¯´æ˜**ï¼šç”¨äºæ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ  
**ç¤ºä¾‹å“åº”**ï¼š

```json
{ "message": "Markdown Connector is running." }
```

---

### ğŸ”¹ `GET /api/posts`

**åŠŸèƒ½**ï¼šè·å–ç”Ÿæˆçš„ `index.json`ï¼ˆç¼“å­˜ç‰ˆï¼‰  
**è¯´æ˜**ï¼šè¿”å› Markdown æ–‡ä»¶çš„è·¯å¾„ä¸å…ƒæ•°æ®åˆ—è¡¨ï¼Œä»ç¼“å­˜ä¸­è¯»å–ï¼Œå“åº”é€Ÿåº¦å¿«  
**ç”¨é€”**ï¼šCoco Server å¯ç”¨ä½œç´¢å¼•åŠ è½½å…¥å£  
**ç¤ºä¾‹å“åº”**ï¼š

```json
[
  {
    "title": "Docker å­¦ä¹ ç¬”è®°",
    "path": "dev/docker.md",
    "tags": ["docker", "å­¦ä¹ "],
    "created": "2024-11-22"
  },
  ...
]
```

---

### ğŸ”¹ `GET /index.json`

**åŠŸèƒ½**ï¼šå®æ—¶æ¸²æŸ“å½“å‰ Markdown ç›®å½•ç»“æ„  
**è¯´æ˜**ï¼šç­‰ä»·äº `/api/posts`ï¼Œä½†æ˜¯å®æ—¶è¯»å–æ–‡ä»¶è€Œéä½¿ç”¨ç¼“å­˜ï¼Œé€‚åˆè°ƒè¯•æˆ–æ‰‹åŠ¨ä½¿ç”¨  
**ç”¨é€”**ï¼šç¡®ä¿æ•°æ®ä¸ºæœ€æ–°çŠ¶æ€æ—¶ä½¿ç”¨

---

### ğŸ”¹ `GET /api/refresh`

**åŠŸèƒ½**ï¼šé‡æ–°æ‰«æå¹¶ç”Ÿæˆæœ€æ–°çš„ `index.json` ç¼“å­˜  
**è¯´æ˜**ï¼šç”¨äºå¼ºåˆ¶åˆ·æ–°ç›®å½•ç´¢å¼•ï¼Œé€‚ç”¨äºæ–°å¢ / ä¿®æ”¹äº† Markdown æ–‡ä»¶å  
**å“åº”ç¤ºä¾‹**ï¼š

```json
{ "message": "Index cache refreshed." }
```

---

### ğŸ”¹ `GET /posts/`

**åŠŸèƒ½**ï¼šåˆ—å‡º Markdown æ–‡ä»¶è·¯å¾„åˆ—è¡¨ï¼ˆä¸å«å…ƒæ•°æ®ï¼‰  
**è¯´æ˜**ï¼šè¿”å›æ‰€æœ‰å¯è®¿é—®çš„ Markdown æ–‡ä»¶è·¯å¾„ï¼Œç”¨äºæ„å»ºä¸‹æ‹‰èœå•ã€å¿«é€Ÿè·³è½¬  
**å“åº”ç¤ºä¾‹**ï¼š

```json
["notes/linux.md", "dev/docker.md", "ideas/gpt-agent.md"]
```

---

### ğŸ”¹ `GET /posts/{filename}`

**åŠŸèƒ½**ï¼šè·å–æŒ‡å®š Markdown æ–‡ä»¶çš„å†…å®¹  
**å‚æ•°**ï¼š

- `{filename}`ï¼šMarkdown æ–‡ä»¶è·¯å¾„ï¼ˆç›¸å¯¹äºæŒ‚è½½ç›®å½•ï¼‰

**ç”¨é€”**ï¼šç”¨äºå‰ç«¯ç‚¹å‡»è·³è½¬åå±•ç¤ºå…·ä½“ç¬”è®°å†…å®¹  
**å“åº”ç¤ºä¾‹**ï¼š

```json
{
  "filename": "dev/docker.md",
  "content": "# Docker å­¦ä¹ ç¬”è®°\n\n## å®¹å™¨ vs é•œåƒ ..."
}
```

---

- ç”¨äº Coco Serverï¼Œæ¨èä½¿ç”¨ `/api/posts` ä½œä¸ºå†…å®¹ç´¢å¼•æºï¼›
- ä½¿ç”¨ `/api/refresh` åå†æ‹‰ä¸€æ¬¡ `/api/posts` å¯ç¡®ä¿å†…å®¹æœ€æ–°ï¼›
- è‹¥å‰ç«¯éœ€è¦å±•ç¤ºå…·ä½“å†…å®¹ï¼Œå¯è°ƒç”¨ `/posts/{filename}`ï¼›
- è‹¥ç”¨åœ¨å…¶ä»– AI é¡¹ç›®ä¸­ï¼Œä¹Ÿå¯ç”¨äºæ„å»ºè½»é‡çº§ Markdown çŸ¥è¯†æ£€ç´¢æ¥å£ã€‚

---

## ä¸ Coco Server é›†æˆ

åœ¨ Orbstack ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°æœ¬åœ° Markdown æ–‡ä»¶å·²ç»æ˜ å°„åˆ°å®¹å™¨ä¸­ï¼š

![Orbstack æ–‡ä»¶æ˜ å°„](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250328110115287.png)

æ¥ç€æˆ‘ä»¬å°† connector çš„æœåŠ¡åœ°å€å¡«å…¥ Coco Server é…ç½®ä¸­ï¼š

![é…ç½® Coco Server](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250328114420941.png)

ä½ å¯ä»¥ä½¿ç”¨ `/api/posts` æˆ– `/index.json` æ¥å£ï¼Œå®ƒä»¬è¿”å›çš„å†…å®¹åŸºæœ¬ä¸€è‡´ï¼š

- `/api/posts` æ˜¯æ¥è‡ªç¼“å­˜çš„æ¥å£ï¼›
- `/index.json` æ˜¯å®æ—¶æ¸²æŸ“æœ¬åœ°æ–‡ä»¶ç»“æ„ã€‚

å¦å¤–ï¼Œé€šè¿‡ `/api/refresh` è¿˜å¯ä»¥æ‰‹åŠ¨è§¦å‘ç¼“å­˜åˆ·æ–°ï¼š

![åˆ·æ–°ç¼“å­˜](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250328112740320.png)

---

## æ•ˆæœæ¼”ç¤º

æˆåŠŸæ¥å…¥åï¼ŒCoco Server å°±å¯ä»¥è¯»å– Markdown æ–‡ä»¶çš„ç»“æ„ä¸å…ƒæ•°æ®ä¿¡æ¯ï¼š

![Coco æˆåŠŸæŠ“å–](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250328112721540.png)

ç‚¹å‡»æ¡ç›®è¿˜å¯ä»¥è·³è½¬åˆ°å¯¹åº”çš„ç½‘é¡µï¼š

![è·³è½¬é“¾æ¥](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250328114249329.png)

å½“ç„¶ï¼Œå’Œä¹‹å‰ä¸€æ ·ï¼Œä¹Ÿæ”¯æŒåœ¨æœç´¢æ ä¸­ç›´æ¥æœç´¢å¹¶è·³è½¬ï¼š

![æœç´¢è·³è½¬](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250328114455959.png)

---

## å°ç»“

é€šè¿‡è¿™ä¸ª Flask ç‰ˆ Markdown Connectorï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»»æ„ Markdown æ–‡ä»¶ç›®å½•ç»“æ„åŒ–æš´éœ²ç»™ Coco-AIï¼Œå®ç°ï¼š

- ç¬”è®°å†…å®¹ç»Ÿä¸€ç´¢å¼•
- ç»“æ„ä¸å…ƒæ•°æ®æ¸…æ™°å¯æ§
- å¿«é€Ÿéƒ¨ç½²ï¼Œæ— éœ€ Hugo/Hexo å»ºç«™

è¿™å¯¹äºæ—¥å¸¸ç¢ç‰‡åŒ–ç¬”è®°ç®¡ç†æ¥è¯´ï¼Œæ˜¯ä¸€ä¸ªéå¸¸è½»é‡åˆçµæ´»çš„è§£å†³æ–¹æ¡ˆã€‚
